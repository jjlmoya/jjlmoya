---
interface Props {
    theme: "hunter" | "gatherer" | "neutral";
    active?: boolean;
}

const { theme, active = false } = Astro.props;

const themeStyles = {
    hunter: "bg-[#1c1917] text-[#d6d3d1] font-mono border-stone-800",
    gatherer: "bg-[#0c0a09] text-[#e7e5e4] font-serif border-amber-900/30",
    neutral: "bg-black text-white",
};

const currentTheme = themeStyles[theme];
---

<div
    class={`absolute inset-0 w-full h-full transition-opacity duration-500 flex flex-col ${active ? "opacity-100 z-10 pointer-events-auto" : "opacity-0 z-0 pointer-events-none"} ${currentTheme} overflow-hidden`}
>
    {
        theme === "hunter" && (
            <div class="absolute inset-0 opacity-5 pointer-events-none">
                <svg width="100%" height="100%">
                    <filter id="noise">
                        <feTurbulence
                            type="fractalNoise"
                            baseFrequency="0.8"
                            numOctaves="3"
                            stitchTiles="stitch"
                        />
                    </filter>
                    <rect width="100%" height="100%" filter="url(#noise)" />
                </svg>
            </div>
        )
    }

    {
        theme === "gatherer" && (
            <div
                class="absolute inset-0 opacity-5 pointer-events-none"
                style="background-image: radial-gradient(#f59e0b 1px, transparent 1px); background-size: 40px 40px;"
            />
        )
    }

    <div class="relative z-10 w-full h-full flex flex-col p-6 md:p-12 max-w-7xl mx-auto">
        <slot />
    </div>
</div>
