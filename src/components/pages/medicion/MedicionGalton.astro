---

---

<section
    class="min-h-screen flex flex-col items-center justify-center relative py-32 bg-[#18181b] text-[#e4e4e7] overflow-hidden"
>
    <!-- Grid Background -->
    <div class="absolute inset-0 pointer-events-none opacity-10">
        <svg class="w-full h-full">
            <defs>
                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#a1a1aa" stroke-width="1"
                    ></path>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)"></rect>
        </svg>
    </div>

    <div class="container mx-auto px-6 max-w-4xl relative z-10">
        <div class="flex flex-col md:flex-row gap-16 items-center">
            <div class="w-full md:w-1/2 space-y-8">
                <span
                    class="text-[#a1a1aa] font-mono text-xs tracking-widest uppercase border-b border-[#52525b] pb-2"
                    >La Tiranía del Promedio</span
                >
                <h2 class="text-4xl md:text-5xl font-serif italic text-[#f4f4f5]">
                    La Curva de Bell
                </h2>

                <p class="text-lg leading-relaxed font-serif text-[#d4d4d8]/90">
                    El caos individual crea orden colectivo. Si mides la altura de mil soldados, o
                    el error de mil mediciones, siempre aparece la misma forma.
                </p>

                <div
                    class="bg-[#27272a]/60 p-6 rounded-sm border border-[#52525b] mt-4 backdrop-blur-sm"
                >
                    <h3 class="text-[#e4e4e7] font-bold mb-2">La Máquina de Galton</h3>
                    <p class="text-sm text-[#a1a1aa] leading-relaxed">
                        Cada bola toma decisiones aleatorias (izquierda o derecha). Pero juntas,
                        obedecen una ley estricta. Inventamos la "normalidad" matemática y empezamos
                        a juzgar a quien se salía de ella.
                    </p>
                    <p class="mt-4 text-sm text-[#d4d4d8] italic">
                        La estadística es la herramienta con la que el Estado mide a la sociedad.
                    </p>
                </div>
            </div>

            <div class="w-full md:w-1/2 flex justify-center relative h-[400px]">
                <!-- Galton Board Visualization (SVG) -->
                <div class="relative w-full h-full flex items-center justify-center">
                    <svg viewBox="0 0 400 400" class="w-full h-full overflow-visible">
                        <!-- The Board Structure -->
                        <path
                            d="M 100 50 L 100 300 L 300 300 L 300 50"
                            fill="none"
                            stroke="#52525b"
                            stroke-width="2"></path>

                        <!-- Pegs (Triangle formation) -->
                        <g fill="#71717a">
                            {
                                Array.from({ length: 8 }).map((_, row) =>
                                    Array.from({ length: row + 1 }).map((_, col) => (
                                        <circle
                                            cx={200 + (col - row / 2) * 20}
                                            cy={80 + row * 25}
                                            r={2}
                                        />
                                    ))
                                )
                            }
                        </g>

                        <!-- The Bell Curve Container (Bottom) -->
                        <g transform="translate(100, 300)">
                            {
                                Array.from({ length: 9 }).map((_, i) => (
                                    <rect
                                        x={i * 22.2 + 2}
                                        y="0"
                                        width="18"
                                        height="50"
                                        fill="none"
                                        stroke="#3f3f46"
                                        stroke-width="1"
                                    />
                                ))
                            }
                        </g>

                        <!-- Falling Balls Animation -->
                        <!-- Simulating balls falling and stacking -->
                        <g>
                            {
                                Array.from({ length: 20 }).map((_, i) => {
                                    const delay = i * 0.5;
                                    // const duration = 4;
                                    // Random-ish path end x
                                    const endBin = Math.floor(Math.random() * 9);
                                    const endX = 100 + endBin * 22.2 + 11;

                                    return (
                                        <circle
                                            r="4"
                                            fill="#e4e4e7"
                                            class="animate-galton-ball"
                                            style={`animation-delay: ${delay}s; --end-x: ${endX}px;`}
                                        />
                                    );
                                })
                            }
                        </g>

                        <!-- The Ideal Curve Overlay (Ghostly) -->
                        <path
                            d="M 100 300 Q 150 300 170 250 Q 200 150 230 250 Q 250 300 300 300"
                            fill="none"
                            stroke="#22d3ee"
                            stroke-width="2"
                            opacity="0.3"
                            stroke-dasharray="4 4"></path>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes galtonBall {
        0% {
            cx: 200px;
            cy: 40px;
            opacity: 0;
        }
        10% {
            cx: 200px;
            cy: 40px;
            opacity: 1;
        }
        /* Bouncing down pegs - simplified linear approx with wiggle */
        20% {
            cx: 205px;
            cy: 80px;
        }
        30% {
            cx: 195px;
            cy: 105px;
        }
        40% {
            cx: 210px;
            cy: 130px;
        }
        50% {
            cx: 200px;
            cy: 155px;
        }
        60% {
            cx: 215px;
            cy: 180px;
        }
        70% {
            cx: var(--end-x);
            cy: 280px;
        } /* Land in bin */
        90% {
            cx: var(--end-x);
            cy: 340px;
            opacity: 1;
        } /* Stack (fake) */
        100% {
            cx: var(--end-x);
            cy: 340px;
            opacity: 0;
        }
    }
    .animate-galton-ball {
        animation: galtonBall 4s linear infinite;
    }
</style>
