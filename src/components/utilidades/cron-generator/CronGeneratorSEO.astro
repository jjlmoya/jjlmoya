---
import { Icon } from "astro-icon/components";
---

<div class="space-y-16 py-12">
    <header class="text-center space-y-4 max-w-3xl mx-auto">
        <h2 class="text-3xl md:text-4xl font-black text-slate-900 dark:text-white leading-tight">
            Guía Completa: Cómo Masterizar las <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600"
                >Expresiones Cron</span
            > en Linux
        </h2>
        <p class="text-lg text-slate-500 dark:text-slate-400">
            Aprende a programar tareas automáticas de forma eficiente, segura y sin errores de
            sintaxis.
        </p>
    </header>

    <div
        class="bg-gradient-to-br from-slate-50 to-white dark:from-slate-900/50 dark:to-slate-900 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm"
    >
        <div class="flex flex-col md:flex-row gap-8 items-center text-left">
            <div
                class="w-16 h-16 rounded-2xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center shrink-0"
            >
                <Icon
                    name="mdi:lightbulb-on"
                    class="w-8 h-8 text-purple-600 dark:text-purple-400"
                />
            </div>
            <div class="space-y-2">
                <h3 class="text-xl font-bold text-slate-900 dark:text-white">
                    ¿Qué es esto? Visión rápida
                </h3>
                <p class="text-slate-600 dark:text-slate-300 leading-relaxed">
                    Cron es el <strong>standard industry scheduler</strong> para sistemas Unix (Linux,
                    macOS). Permite la ejecución de comandos o scripts en intervalos precisos. Nuestra
                    herramienta abstrae la complejidad de los asteriscos (`* * * * *`) para que puedas
                    generar configuraciones profesionales en segundos.
                </p>
            </div>
        </div>
    </div>

    <article
        class="prose prose-slate dark:prose-invert max-w-none prose-headings:font-black prose-h2:text-3xl prose-h3:text-xl"
    >
        <section class="mb-16">
            <h2
                class="text-3xl font-black text-slate-900 dark:text-white mb-6 flex items-center gap-3"
            >
                <span class="w-1.5 h-8 bg-purple-500 rounded-full"></span>
                La importancia de Cron en la automatización moderna
            </h2>
            <div
                class="bg-white/50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800 p-8 shadow-sm leading-relaxed text-lg"
            >
                <p>
                    A pesar de vivir en la era de los servidores <em>serverless</em> y los flujos de
                    trabajo en la nube, el sistema <strong>Crontab</strong> sigue siendo la columna vertebral
                    de la infraestructura tecnológica mundial. Desde pequeños blogs en WordPress hasta
                    gigantescas infraestructuras bancarias, la programación de tareas (scheduling) es
                    lo que permite que el mundo digital no se detenga.
                </p>
                <p class="mb-0">
                    Un administrador de sistemas o un desarrollador backend utiliza Cron para tareas
                    críticas: copias de seguridad de bases de datos, rotación de logs para evitar
                    discos llenos, envío de correos electrónicos transaccionales o incluso la
                    actualización de certificados SSL.
                </p>
            </div>
        </section>

        <section class="grid md:grid-cols-2 gap-12 not-prose my-16">
            <div class="space-y-4">
                <div class="text-purple-500 font-mono text-xs tracking-widest uppercase">
                    Estructura
                </div>
                <h3 class="text-2xl font-bold text-slate-900 dark:text-white">
                    Anatomía de una Expresión Cron
                </h3>
                <p class="text-slate-600 dark:text-slate-400">
                    Muchos desarrolladores temen a Cron por su sintaxis compacta de 5 espacios. Aquí
                    tienes el desglose exacto de lo que significa cada posición en esta herramienta:
                </p>
                <div class="space-y-3">
                    <div
                        class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"
                    >
                        <span
                            class="w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-mono font-bold text-purple-600"
                            >1</span
                        >
                        <div class="text-sm">
                            <strong>Minuto:</strong> (0 - 59). Cuándo empieza la tarea dentro de la hora.
                        </div>
                    </div>
                    <div
                        class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"
                    >
                        <span
                            class="w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-mono font-bold text-purple-600"
                            >2</span
                        >
                        <div class="text-sm">
                            <strong>Hora:</strong> (0 - 23). Formato de 24 horas obligatorio.
                        </div>
                    </div>
                    <div
                        class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"
                    >
                        <span
                            class="w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-mono font-bold text-purple-600"
                            >3</span
                        >
                        <div class="text-sm">
                            <strong>Día del Mes:</strong> (1 - 31). Día calendario específico.
                        </div>
                    </div>
                    <div
                        class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"
                    >
                        <span
                            class="w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-mono font-bold text-purple-600"
                            >4</span
                        >
                        <div class="text-sm">
                            <strong>Mes:</strong> (1 - 12). De enero a diciembre.
                        </div>
                    </div>
                    <div
                        class="flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-100 dark:border-slate-700"
                    >
                        <span
                            class="w-8 h-8 rounded-lg bg-white dark:bg-slate-700 flex items-center justify-center font-mono font-bold text-purple-600"
                            >5</span
                        >
                        <div class="text-sm">
                            <strong>Día de la Semana:</strong> (0 - 6). El 0 suele ser Domingo.
                        </div>
                    </div>
                </div>
            </div>
            <div
                class="bg-slate-900 rounded-3xl p-8 text-white relative overflow-hidden flex flex-col justify-center border border-white/10"
            >
                <Icon name="mdi:console" class="absolute -bottom-4 -right-4 w-32 h-32 opacity-10" />
                <h4 class="text-lg font-bold mb-4 flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-green-500"></span>
                    Operadores Especiales
                </h4>
                <div class="space-y-4 font-mono text-sm">
                    <div>
                        <span class="text-orange-400">*</span>
                        <span class="text-slate-400 ml-2">// Comodín (Todo)</span>
                    </div>
                    <div>
                        <span class="text-orange-400">,</span>
                        <span class="text-slate-400 ml-2">// Lista (1,3,5)</span>
                    </div>
                    <div>
                        <span class="text-orange-400">-</span>
                        <span class="text-slate-400 ml-2">// Rango (1-5)</span>
                    </div>
                    <div>
                        <span class="text-orange-400">/</span>
                        <span class="text-slate-400 ml-2">// Incrementos (*/15)</span>
                    </div>
                </div>
                <div
                    class="mt-8 p-4 bg-white/5 rounded-xl border border-white/10 text-xs text-slate-300 italic"
                >
                    "Usa la barra para definir pasos, por ejemplo '*/5' en minutos para ejecutar
                    cada 5 minutos."
                </div>
            </div>
        </section>

        <section class="mb-20">
            <h2
                class="text-3xl font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3 italic"
            >
                <Icon name="mdi:shield-alert" class="w-8 h-8 text-amber-500 shrink-0" />
                Guía Pro: Errores que Rompen tu Crontab
            </h2>
            <div class="space-y-6">
                <div
                    class="p-6 bg-amber-50 dark:bg-amber-900/10 border-l-4 border-amber-500 rounded-r-2xl"
                >
                    <h4 class="text-lg font-bold text-amber-800 dark:text-amber-400 mb-2">
                        La Pesadilla de la Zona Horaria
                    </h4>
                    <p class="mb-0 text-amber-700 dark:text-amber-300">
                        El 90% de los servidores funcionan en UTC. Si programas un volcado de base
                        de datos a las 02:00 AM pensando en tu horario local, podrías hacerlo a
                        mediodía, afectando al rendimiento del usuario.
                    </p>
                </div>
                <div
                    class="p-6 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-sm"
                >
                    <h4
                        class="text-lg font-bold text-slate-900 dark:text-white mb-2 underline decoration-purple-500 decoration-3 underline-offset-4"
                    >
                        Rutas Relativas y el $PATH
                    </h4>
                    <p class="mb-0">
                        Cron no tiene acceso a tu <code>$PATH</code> habitual. Usa siempre rutas absolutas:
                        <code>/usr/local/bin/node</code> en lugar de <code>node</code>.
                    </p>
                </div>
            </div>
        </section>

        <section
            class="my-16 bg-gradient-to-r from-purple-600 to-indigo-700 rounded-3xl p-8 text-white not-prose"
        >
            <div class="max-w-2xl mx-auto text-center space-y-6">
                <h3 class="text-3xl font-black">¿Por qué usar nuestro Generador de Cron?</h3>
                <p class="text-purple-100 opacity-90 leading-relaxed">
                    A diferencia de otros generadores que solo te devuelven una cadena de texto,
                    nuestra herramienta valida la lógica en tiempo real y te muestra las próximas 5
                    fechas de ejecución. Esto es vital para confirmar que tu expresión compleja
                    realmente hace lo que esperas antes de pegarla en producción.
                </p>
            </div>
        </section>

        <section class="mb-20">
            <h2
                class="text-3xl font-black text-slate-900 dark:text-white mb-8 border-b-4 border-slate-100 dark:border-slate-800 pb-2 inline-block"
            >
                Ejemplos Rápidos (Cheatsheet)
            </h2>
            <div
                class="overflow-hidden rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm not-prose"
            >
                <table class="w-full text-left border-collapse m-0">
                    <thead class="bg-slate-50 dark:bg-slate-800/50">
                        <tr>
                            <th class="p-5 font-black text-slate-900 dark:text-white">Frecuencia</th
                            >
                            <th class="p-5 font-black text-slate-900 dark:text-white">Expresión</th>
                            <th class="p-5 font-black text-slate-900 dark:text-white"
                                >Caso de Uso</th
                            >
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
                        <tr
                            class="hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors"
                        >
                            <td class="p-5 font-medium">Cada 15 min</td>
                            <td class="p-5"
                                ><code
                                    class="text-purple-600 dark:text-purple-400 font-bold bg-purple-50 dark:bg-purple-900/20 px-3 py-1.5 rounded-lg border border-purple-100 dark:border-purple-800/50"
                                    >*/15 * * * *</code
                                ></td
                            >
                            <td class="p-5 text-slate-500 dark:text-slate-400"
                                >Monitorización de APIs</td
                            >
                        </tr>
                        <tr
                            class="hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors"
                        >
                            <td class="p-5 font-medium">Cada hora</td>
                            <td class="p-5"
                                ><code
                                    class="text-purple-600 dark:text-purple-400 font-bold bg-purple-50 dark:bg-purple-900/20 px-3 py-1.5 rounded-lg border border-purple-100 dark:border-purple-800/50"
                                    >0 * * * *</code
                                ></td
                            >
                            <td class="p-5 text-slate-500 dark:text-slate-400">Limpieza de Caché</td
                            >
                        </tr>
                        <tr
                            class="hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-colors"
                        >
                            <td class="p-5 font-medium">Diario</td>
                            <td class="p-5"
                                ><code
                                    class="text-purple-600 dark:text-purple-400 font-bold bg-purple-50 dark:bg-purple-900/20 px-3 py-1.5 rounded-lg border border-purple-100 dark:border-purple-800/50"
                                    >30 2 * * *</code
                                ></td
                            >
                            <td class="p-5 text-slate-500 dark:text-slate-400"
                                >Backup de Base de Datos</td
                            >
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="mb-20">
            <h2
                class="text-3xl font-black text-slate-900 dark:text-white mb-8 underline decoration-purple-500 decoration-4 underline-offset-8"
            >
                Preguntas Frecuentes (FAQ)
            </h2>
            <div class="grid md:grid-cols-2 gap-8 not-prose">
                <div
                    class="p-6 bg-white dark:bg-slate-900 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-sm transition-all hover:shadow-md"
                >
                    <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-3">
                        ¿Diferencia entre Cron y Crontab?
                    </h3>
                    <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                        Cron es el servicio (demonio) que corre en segundo plano, mientras que <code
                            >crontab</code
                        > es el comando para editar el archivo de configuración.
                    </p>
                </div>
                <div
                    class="p-6 bg-white dark:bg-slate-900 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-sm transition-all hover:shadow-md"
                >
                    <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-3">
                        ¿Qué son @reboot o @daily?
                    </h3>
                    <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                        Son alias modernos: <code>@reboot</code> ejecuta al arrancar, <code
                            >@daily</code
                        > equivale a medianoche cada día.
                    </p>
                </div>
            </div>
        </section>
    </article>
</div>
