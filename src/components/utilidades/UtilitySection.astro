---
import { Icon } from "astro-icon/components";
import CardUtility from "./CardUtility.astro";
import type { UtilityItem } from "../../data/utilities";

interface Props {
    title: string;
    icon: string;
    theme:
        | "emerald"
        | "orange"
        | "purple"
        | "blue"
        | "pink"
        | "cyan"
        | "indigo"
        | "slate"
        | "rose"
        | "amber";
    utilities: UtilityItem[];
}

const { title, icon, theme, utilities } = Astro.props;

const colorMap = {
    emerald: "bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",
    orange: "bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",
    purple: "bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",
    blue: "bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",
    pink: "bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-400",
    cyan: "bg-cyan-100 dark:bg-cyan-900/30 text-cyan-600 dark:text-cyan-400",
    indigo: "bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",
    slate: "bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",
    rose: "bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400",
    amber: "bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400",
};
---

<section class="mb-16" data-utility-section data-section-title={title}>
    <h2
        class="text-2xl font-black text-slate-900 dark:text-white tracking-tight mb-6 flex items-center gap-3"
    >
        <span class={`p-2 rounded-xl ${colorMap[theme]}`}>
            <Icon name={icon} class="w-6 h-6" />
        </span>
        {title}
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {utilities.map((u) => <CardUtility {...u} />)}
    </div>
</section>
