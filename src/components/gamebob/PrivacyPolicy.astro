---
import { Icon } from "astro-icon/components";
import LanguageSelector from "./LanguageSelector.astro";
---

<section class="relative min-h-screen py-24 px-6" id="privacy-policy-container">
    <div class="max-w-4xl mx-auto relative z-10">
        <LanguageSelector baseUrl="/gamebob/privacidad/" />

        <div class="mb-24 text-center">
            <div
                data-t="privacy.badge"
                class="inline-block px-4 py-1 rounded-full border border-[var(--color-gamebob-primary)]/30 bg-[var(--color-gamebob-primary)]/5 text-[var(--color-gamebob-primary)] text-xs font-bold tracking-[0.2em] uppercase mb-6 animate-in fade-in slide-in-from-bottom-4 duration-700"
            >
                Transparencia Total
            </div>
            <h1
                class="text-6xl md:text-8xl font-black text-white mb-8 tracking-tighter animate-in fade-in slide-in-from-bottom-8 duration-1000"
            >
                <span data-t="privacy.title_p1">Política de</span><br />
                <span
                    data-t="privacy.title_p2"
                    class="text-transparent bg-clip-text bg-gradient-to-r from-[var(--color-gamebob-primary)] via-emerald-400 to-blue-500"
                >
                    Privacidad
                </span>
            </h1>
            <p
                data-t="privacy.description"
                class="text-lg text-gray-400 font-light tracking-wide max-w-xl mx-auto leading-relaxed"
            >
                Tu tranquilidad es nuestra prioridad. Aquí explicamos cómo cuidamos tus datos con la
                misma pasión con la que creamos cada píxel de nuestros juegos.
            </p>
            <div class="mt-8 flex justify-center items-center gap-2 text-gray-600 text-sm italic">
                <span class="w-8 h-px bg-gray-800"></span>
                <span data-t="privacy.last_update"
                    >Última actualización: 24 de Diciembre de 2025</span
                >
                <span class="w-8 h-px bg-gray-800"></span>
            </div>
        </div>

        <div class="grid grid-cols-1 gap-8">
            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:hand-wave-outline" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.intro.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Introducción
                        </h2>
                        <p
                            data-t="privacy.sections.intro.content"
                            class="text-gray-400 leading-relaxed text-lg"
                        >
                            En GameBob, nos tomamos muy en serio la privacidad de nuestros usuarios.
                            Esta política describe cómo se manejan los datos en todas nuestras
                            aplicaciones y juegos. Creemos en un desarrollo ético donde la diversión
                            no dependa de tu información personal.
                        </p>
                    </div>
                </div>
            </div>

            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:database-off-outline" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.collection.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Recopilación de Datos
                        </h2>
                        <p
                            data-t="privacy.sections.collection.content"
                            class="text-gray-400 leading-relaxed text-lg"
                        >
                            Nuestros juegos están diseñados para ser disfrutados sin recopilar datos
                            personales identificables. No solicitamos nombres, correos electrónicos
                            ni información sensible. Tu progreso es tuyo, y así queremos que siga
                            siendo.
                        </p>
                    </div>
                </div>
            </div>

            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:security" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.security.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Filosofía de Seguridad
                        </h2>
                        <p
                            data-t="privacy.sections.security.content"
                            class="text-gray-400 leading-relaxed text-lg"
                        >
                            Implementamos una política de 'Zero Data'. No almacenamos información en
                            servidores externos que no sea estrictamente necesaria para el
                            funcionamiento técnico local de la aplicación, minimizando cualquier
                            riesgo de exposición.
                        </p>
                    </div>
                </div>
            </div>

            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:handshake-outline" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.third_party.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Servicios de Terceros
                        </h2>
                        <ul class="space-y-4">
                            <li class="flex gap-3">
                                <span
                                    class="w-1.5 h-1.5 rounded-full bg-[var(--color-gamebob-primary)] mt-2 flex-shrink-0"
                                ></span>
                                <p class="text-gray-400 leading-relaxed">
                                    <span
                                        data-t="privacy.sections.third_party.admob_title"
                                        class="text-white font-semibold">Google AdMob:</span
                                    >
                                    <span data-t="privacy.sections.third_party.admob_content"
                                        >Utilizado para mostrar anuncios que financian nuestro
                                        desarrollo gratuito. Google puede usar identificadores de
                                        publicidad anónimos para personalizar tu experiencia
                                        publicitaria.</span
                                    >
                                </p>
                            </li>
                            <li class="flex gap-3">
                                <span
                                    class="w-1.5 h-1.5 rounded-full bg-[var(--color-gamebob-primary)] mt-2 flex-shrink-0"
                                ></span>
                                <p class="text-gray-400 leading-relaxed">
                                    <span
                                        data-t="privacy.sections.third_party.crashlytics_title"
                                        class="text-white font-semibold">Firebase Crashlytics:</span
                                    >
                                    <span data-t="privacy.sections.third_party.crashlytics_content"
                                        >Herramienta de monitoreo de errores que nos ayuda a
                                        identificar, priorizar y solucionar problemas de estabilidad
                                        en la aplicación. Recopila datos anónimos sobre fallos y el
                                        estado de la aplicación en el momento del error.</span
                                    >
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:shield-check-outline" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.children.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Protección Infantil
                        </h2>
                        <p
                            data-t="privacy.sections.children.content"
                            class="text-gray-400 leading-relaxed text-lg"
                        >
                            Cumplimos estrictamente con las normativas internacionales de protección
                            infantil (COPPA/GDPR). Nuestros juegos son entornos seguros donde no se
                            recopila información personal de menores de 13 años bajo ningún
                            concepto.
                        </p>
                    </div>
                </div>
            </div>

            <div
                class="group relative p-8 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-sm hover:bg-white/[0.07] hover:border-white/10 transition-all duration-500"
            >
                <div
                    class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--color-gamebob-primary)]/50 to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-700"
                >
                </div>
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="flex-shrink-0">
                        <div
                            class="w-12 h-12 rounded-2xl bg-[var(--color-gamebob-primary)]/10 flex items-center justify-center text-[var(--color-gamebob-primary)] group-hover:scale-110 group-hover:rotate-3 transition-all duration-500"
                        >
                            <Icon name="mdi:email-outline" class="w-6 h-6" />
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h2
                            data-t="privacy.sections.contact.title"
                            class="text-2xl font-bold text-white tracking-tight"
                        >
                            Cambios y Contacto
                        </h2>
                        <p
                            data-t="privacy.sections.contact.content"
                            class="text-gray-400 leading-relaxed text-lg"
                        >
                            Nuestra política puede evolucionar junto con nuestra tecnología. Si
                            tienes alguna duda sobre cómo protegemos tu experiencia de juego,
                            estamos a un mensaje de distancia a través de nuestros canales
                            oficiales.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-24 text-center">
            <div class="inline-flex items-center gap-4 text-gray-600">
                <div class="h-px w-12 bg-gray-800"></div>
                <p data-t="privacy.footer_copy" class="text-xs uppercase tracking-[0.3em]">
                    GameBob Studio &copy; 2026
                </p>
                <div class="h-px w-12 bg-gray-800"></div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes float {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }
</style>

<script>
    import { LEGAL_TRANSLATIONS } from "../../data/gamebob/legal-translations";

    function updatePrivacyTranslations(lang: string) {
        const t = LEGAL_TRANSLATIONS[lang] || LEGAL_TRANSLATIONS.es;

        document.querySelectorAll("#privacy-policy-container [data-t]").forEach((el) => {
            const key = el.getAttribute("data-t");
            if (!key) return;

            const value = key.split(".").reduce((obj, i) => (obj ? obj[i] : null), t as any);

            if (value && typeof value === "string") {
                el.textContent = value;
            }
        });
    }

    function initPrivacy() {
        document.addEventListener("change-language", (e: any) => {
            updatePrivacyTranslations(e.detail.lang);
        });

        const userLang = localStorage.getItem("preferred-lang") || navigator.language.split("-")[0];
        const LANGUAGES = [
            "en",
            "es",
            "de",
            "fr",
            "it",
            "pt",
            "ja",
            "ko",
            "zh",
            "ru",
            "tr",
            "nl",
            "pl",
            "sv",
            "hi",
        ];

        if (LANGUAGES.includes(userLang) && userLang !== "es") {
            updatePrivacyTranslations(userLang);
        }
    }

    initPrivacy();
    document.addEventListener("astro:page-load", initPrivacy);
</script>
