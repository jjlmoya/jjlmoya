---
import type { Application } from "../../../types/apps";

interface Props {
    app: Application;
}

const { app } = Astro.props;
const shorts = app.shorts || [];
---

{
    shorts.length > 0 && (
        <section class="relative py-20 px-6 overflow-hidden bg-[#0A0A0A]">
            <div class="max-w-6xl mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-5xl font-serif text-white/50 mb-4">
                        Ya Disponible.
                    </h2>
                    <div class="h-px w-20 bg-[#BF9F5A]/30 mx-auto" />
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 justify-items-center">
                    {shorts.map((videoId) => (
                        <div class="relative w-full max-w-[350px] aspect-[9/16] rounded-3xl overflow-hidden border border-white/10 shadow-2xl group hover:border-[#BF9F5A]/40 transition-colors duration-500">
                            <iframe
                                width="100%"
                                height="100%"
                                src={`https://www.youtube.com/embed/${videoId}?autoplay=0&loop=1&playlist=${videoId}`}
                                title="YouTube video player"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin"
                                allowfullscreen
                                class="absolute inset-0 w-full h-full opacity-80 group-hover:opacity-100 transition-opacity"
                            />
                        </div>
                    ))}

                    <div class="relative w-full max-w-[350px] aspect-[9/16] rounded-3xl overflow-hidden border border-white/5 bg-white/5 flex flex-col items-center justify-center group hover:border-[#BF9F5A]/20 transition-all">
                        <div class="text-6xl text-white/10 font-serif font-black mb-4 group-hover:text-[#BF9F5A]/20 transition-colors">
                            ?
                        </div>
                        <div class="text-xs text-white/20 uppercase tracking-widest text-center px-8">
                            Próximamente
                            <br />
                            Más Galletas
                        </div>
                    </div>

                    <div class="relative w-full max-w-[350px] aspect-[9/16] rounded-3xl overflow-hidden border border-white/5 bg-white/5 flex flex-col items-center justify-center group hover:border-[#BF9F5A]/20 transition-all hidden lg:flex">
                        <div class="text-6xl text-white/10 font-serif font-black mb-4 group-hover:text-[#BF9F5A]/20 transition-colors">
                            ?
                        </div>
                        <div class="text-xs text-white/20 uppercase tracking-widest text-center px-8">
                            Próximamente
                            <br />
                            Nuevos Eventos
                        </div>
                    </div>
                </div>
            </div>
        </section>
    )
}
