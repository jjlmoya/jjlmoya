---
interface Props {
    id: string; // Unique ID for the slide debate
    labelLeft: string;
    labelRight: string;
    theme?: string;
}

const { id, labelLeft, labelRight } = Astro.props;
---

<section
    class="nuance-slide min-h-screen w-full snap-center flex flex-col items-center justify-center p-8 relative overflow-hidden"
    data-id={id}
    data-label-left={labelLeft}
    data-label-right={labelRight}
>
    <!-- THEME TAG (Persistent context) -->
    {
        Astro.props.theme && (
            <div class="absolute top-24 md:top-32 left-0 w-full flex justify-center z-20 pointer-events-none opacity-80 mix-blend-overlay">
                <span class="px-3 py-1 rounded-full border border-current text-[10px] md:text-xs font-mono uppercase tracking-[0.2em]">
                    {Astro.props.theme}
                </span>
            </div>
        )
    }

    <!-- STATE 1: LEFT (White World - Dogmatic A) -->
    <!-- Visible by default opacity logic in CSS/JS -->
    <div
        class="nuance-state-left absolute inset-0 flex flex-col items-center justify-center text-center p-8 opacity-0 pointer-events-none transition-opacity duration-300"
    >
        <slot name="left" />
    </div>

    <!-- STATE 3: RIGHT (Black World - Dogmatic B) -->
    <!-- Visible by default opacity logic in CSS/JS -->
    <div
        class="nuance-state-right absolute inset-0 flex flex-col items-center justify-center text-center p-8 opacity-0 pointer-events-none transition-opacity duration-300"
    >
        <slot name="right" />
    </div>

    <!-- STATE 2: CENTER (The Truth - Colors/Life) -->
    <!-- This is the default visible state, but fades out when extreme -->
    <div
        class="nuance-state-center relative z-10 flex flex-col items-center justify-center text-center p-8 max-w-4xl opacity-100 transition-opacity duration-300"
    >
        <slot name="center" />
    </div>
</section>
