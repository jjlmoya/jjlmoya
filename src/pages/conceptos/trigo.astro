---
import Layout from "../../layouts/Layout.astro";
import TrigoHeader from "../../components/pages/trigo/TrigoHeader.astro";
import TrigoDeepTime from "../../components/pages/trigo/TrigoDeepTime.astro";
import TrigoRachis from "../../components/pages/trigo/TrigoRachis.astro";
import TrigoTrap from "../../components/pages/trigo/TrigoTrap.astro";
import TrigoGrindingRoutine from "../../components/pages/trigo/TrigoGrindingRoutine.astro";
import TrigoSurplus from "../../components/pages/trigo/TrigoSurplus.astro";
import TrigoSkeletonCompare from "../../components/pages/trigo/TrigoSkeletonCompare.astro";
import TrigoCalorieHunter from "../../components/pages/trigo/TrigoCalorieHunter.astro";
import TrigoCalorieFarmer from "../../components/pages/trigo/TrigoCalorieFarmer.astro";
import TrigoSocialContract from "../../components/pages/trigo/TrigoSocialContract.astro";
import TrigoPopulationGraph from "../../components/pages/trigo/TrigoPopulationGraph.astro";
import TrigoFuture from "../../components/pages/trigo/TrigoFuture.astro";
import TrigoModernMap from "../../components/pages/trigo/TrigoModernMap.astro";
import TrigoEpilogue from "../../components/pages/trigo/TrigoEpilogue.astro";
import TrigoDocumentation from "../../components/pages/trigo/TrigoDocumentation.astro";
import TrigoTableOfContents from "../../components/pages/trigo/TrigoTableOfContents.astro";
import TrigoWorkHoursChart from "../../components/pages/trigo/TrigoWorkHoursChart.astro";
import TrigoPositiveSecurity from "../../components/pages/trigo/TrigoPositiveSecurity.astro";
import TrigoPositiveSpecialization from "../../components/pages/trigo/TrigoPositiveSpecialization.astro";
import TrigoPositiveWriting from "../../components/pages/trigo/TrigoPositiveWriting.astro";
import TrigoPositiveCity from "../../components/pages/trigo/TrigoPositiveCity.astro";
import TrigoPositiveTrade from "../../components/pages/trigo/TrigoPositiveTrade.astro";
import TrigoPositiveBeer from "../../components/pages/trigo/TrigoPositiveBeer.astro";
import TrigoPositiveLaw from "../../components/pages/trigo/TrigoPositiveLaw.astro";
import TrigoPositiveKnowledge from "../../components/pages/trigo/TrigoPositiveKnowledge.astro";
import TrigoPositiveExpansion from "../../components/pages/trigo/TrigoPositiveExpansion.astro";
import TrigoPositiveDocumentation from "../../components/pages/trigo/TrigoPositiveDocumentation.astro";
import TrigoTeamChoice from "../../components/pages/trigo/TrigoTeamChoice.astro";
---

<Layout
    title="La Historia del Trigo - Crónica de una transformación lenta"
    description="Una exploración visual y narrativa sobre cómo el trigo transformó a la humanidad, desde el tiempo profundo hasta la era moderna."
    image="/images/concepts/trigo_header_concept.webp"
    fullWidth={true}
>
    <style is:global>
        main {
            counter-reset: trigo-chapter trigo-positive-chapter 10;
            scroll-behavior: smooth;
        }
        .trigo-chapter::before {
            counter-increment: trigo-chapter;
            content: counter(trigo-chapter, upper-roman) ". ";
        }

        .trigo-positive-chapter::before {
            counter-increment: trigo-positive-chapter -1;
            content: counter(trigo-positive-chapter, upper-roman) ". ";
        }

        main > section {
            min-height: 100vh;
            scroll-snap-align: start;
        }
        main > section:nth-child(odd) {
            background-color: #0c0a09;
        }
        main > section:nth-child(even) {
            background-color: #1c1917;
        }
    </style>
    <TrigoTableOfContents />
    <main class="h-screen overflow-y-auto md:snap-y md:snap-mandatory text-[#e7e5e4]">
        <TrigoPositiveDocumentation />
        <TrigoTeamChoice id="dilema-luz" />
        <TrigoPositiveExpansion />
        <TrigoPositiveKnowledge />
        <TrigoPositiveSpecialization />
        <TrigoPositiveLaw />
        <TrigoPositiveBeer />
        <TrigoPositiveTrade />
        <TrigoPositiveWriting />
        <TrigoPositiveCity />
        <TrigoPositiveSecurity />

        <TrigoHeader />

        <TrigoDeepTime />
        <TrigoRachis />
        <TrigoTrap />
        <TrigoGrindingRoutine />
        <TrigoSkeletonCompare />
        <TrigoCalorieHunter />
        <TrigoCalorieFarmer />
        <TrigoSurplus />
        <TrigoSocialContract />
        <TrigoPopulationGraph />
        <TrigoWorkHoursChart />
        <TrigoModernMap />
        <TrigoFuture />
        <TrigoEpilogue />
        <TrigoDocumentation />
        <TrigoTeamChoice id="dilema-sombra" />
    </main>

    <div
        id="splash-screen"
        class="fixed inset-0 z-[100] bg-[#0c0a09] flex items-center justify-center transition-opacity duration-1000"
    >
        <div class="text-center space-y-6 animate-pulse">
            <div class="relative">
                <div class="absolute inset-0 bg-amber-500/20 blur-3xl rounded-full"></div>
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1"
                    stroke="currentColor"
                    class="w-20 h-20 mx-auto text-amber-500 relative"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"
                    ></path>
                </svg>
            </div>
            <h1
                class="text-3xl md:text-4xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-b from-amber-100 to-amber-600"
            >
                La Historia del Trigo
            </h1>
            <div class="flex items-center gap-2 justify-center text-amber-500/60">
                <div
                    class="w-2 h-2 bg-amber-500 rounded-full animate-bounce"
                    style="animation-delay: 0s"
                >
                </div>
                <div
                    class="w-2 h-2 bg-amber-500 rounded-full animate-bounce"
                    style="animation-delay: 0.2s"
                >
                </div>
                <div
                    class="w-2 h-2 bg-amber-500 rounded-full animate-bounce"
                    style="animation-delay: 0.4s"
                >
                </div>
            </div>
        </div>
    </div>

    <script>
        const introSection = document.getElementById("intro");
        const splash = document.getElementById("splash-screen");
        const mainElement = document.querySelector("main");

        if (mainElement) {
            mainElement.style.visibility = "hidden";
        }

        if (introSection) {
            introSection.scrollIntoView({ behavior: "auto", block: "start" });
        }

        setTimeout(() => {
            if (mainElement) {
                mainElement.style.visibility = "visible";
            }
        }, 100);

        setTimeout(() => {
            if (splash) {
                splash.style.opacity = "0";
                setTimeout(() => {
                    splash.style.display = "none";
                }, 1000);
            }
        }, 1500);
    </script>
</Layout>
