---
import LayoutUtility from "../../layouts/LayoutUtility.astro";
import UtilityHeader from "../../components/utilidades/UtilityHeader.astro";
import BatteryHealthEstimator from "../../components/utilidades/battery-health-estimator/BatteryHealthEstimator.astro";
import BatteryHealthEstimatorSEO from "../../components/utilidades/battery-health-estimator/BatteryHealthEstimatorSEO.astro";
import Bibliography from "../../components/utilidades/Bibliography.astro";

const title = "Calculadora de Salud de Batería Li-Ion | Estimador de Vida Útil";
const description =
    "Calcula el estado de salud (SoH) de tu batería de litio basándote en ciclos, voltaje y temperatura. Guía científica para maximizar la longevidad energética.";
const image = "/images/utilities/estimador-salud-bateria.webp";

const bibliographyLinks = [
    {
        name: "Journal of Power Sources - Battery Degradation Modes",
        url: "https://www.sciencedirect.com/journal/journal-of-power-sources",
    },
    {
        name: "IEEE Xplore - Lithium-Ion Battery Life Prediction",
        url: "https://ieeexplore.ieee.org/abstract/document/11090151",
    },
];

const faqItems = [
    {
        question: "¿Qué es la degradación química de las baterías?",
        answer: "Con cada ciclo de carga y descarga, las celdas de litio sufren microrroturas y acumulación de sedimentos químicos (S.E.I.) que reducen su capacidad de almacenar energía. Es un proceso inevitable pero que se puede ralentizar con buenos hábitos.",
    },
    {
        question: "¿Por qué se recomienda cargar hasta el 80%?",
        answer: "Las baterías de litio sufren más estrés en sus voltajes extremos (0% y 100%). Mantener la carga entre el 20% y el 80% puede triplicar la vida útil de la celda al reducir el calor y la presión interna.",
    },
    {
        question: "¿Cómo afecta el calor a la vida de la batería?",
        answer: "El calor es el enemigo número uno. Por cada 10°C de aumento sobre la temperatura ambiente óptima (25°C), la velocidad de degradación química se duplica aproximadamente.",
    },
    {
        question: "¿Qué es un ciclo de carga completo?",
        answer: "Un ciclo es el uso del 100% de la capacidad de la batería, pero no tiene por qué ser de una vez. Si usas el 50% hoy, la cargas, y usas el 50% mañana, habrás completado 1 ciclo total.",
    },
];

const howToSteps = [
    {
        name: "Identificar la capacidad original",
        text: "Busca en la caja de tu dispositivo o en la web del fabricante los mAh (miliamperios-hora) que tenía tu batería cuando era nueva.",
    },
    {
        name: "Consultar ciclos actuales",
        text: "Muchos sistemas (como iOS o Android 14) permiten ver cuántos ciclos de carga lleva acumulados la batería.",
    },
    {
        name: "Introducir datos técnicos",
        text: "Escribe los mAh actuales y los ciclos para que nuestro motor de cálculo estime el SoH (State of Health).",
    },
    {
        name: "Analizar el diagnóstico",
        text: "Consulta el porcentaje de salud. Si estás por debajo del 80%, es posible que empieces a notar caídas de rendimiento o apagones inesperados.",
    },
];
---

<LayoutUtility
    title={title}
    description={description}
    image={image}
    gradientFrom="from-emerald-50"
    faqItems={faqItems}
    howToSteps={howToSteps}
>
    <div slot="header">
        <UtilityHeader
            titleHighlight="Salud"
            titleBase="Batería"
            description="Diagnóstico técnico de degradación para celdas de Iones de Litio. Analiza el impacto de tus hábitos de carga."
            gradientFrom="from-emerald-600"
            gradientTo="to-teal-600"
        />
    </div>

    <BatteryHealthEstimator />

    <div slot="seo">
        <BatteryHealthEstimatorSEO />
    </div>

    <Bibliography slot="bibliography" links={bibliographyLinks} />
</LayoutUtility>
