---
import LayoutUtility from "../../layouts/LayoutUtility.astro";
import LoanSimulator from "../../components/utilidades/finance/LoanSimulator.astro";
import UtilityHeader from "../../components/utilidades/UtilityHeader.astro";

const faqItems = [
    {
        question: "¬øQu√© es el sistema de amortizaci√≥n franc√©s?",
        answer: "Es el sistema m√°s usado en Espa√±a. La cuota mensual es siempre la misma, pero al principio pagas casi todo en intereses y muy poco capital. Al final, es al rev√©s. Por eso amortizar anticipadamente es m√°s rentable en los primeros a√±os.",
    },
    {
        question: "¬øTipo fijo o variable en 2026?",
        answer: "Tipo fijo: pagas m√°s ahora pero duermes tranquilo 30 a√±os. Tipo variable: puede ser m√°s barato hoy, pero si el Euribor sube al 4-5%, tu cuota puede dispararse y asfixiar tu econom√≠a. Depende de tu aversi√≥n al riesgo.",
    },
    {
        question: "¬øCu√°nto me ahorro si amortizo 10.000‚Ç¨ anticipadamente?",
        answer: "Depende del momento. Si amortizan en el a√±o 1 de una hipoteca de 200.000‚Ç¨ al 3%, puedes ahorrarte m√°s de 15.000‚Ç¨ en intereses. Si lo haces en el a√±o 20, apenas ahorras 2.000‚Ç¨. El timing es crucial.",
    },
    {
        question: "¬øQu√© porcentaje de mi sueldo deber√≠a destinar a la hipoteca?",
        answer: "La recomendaci√≥n del Banco de Espa√±a es no superar el 30-35% de tus ingresos netos mensuales (incluyendo otras deudas). Superar este umbral aumenta significativamente el riesgo de impago ante imprevistos.",
    },
];

const howToSteps = [
    {
        name: "Introducir el importe del pr√©stamo",
        text: "Escribe la cantidad total que necesitas solicitar al banco (restando tus ahorros aportados como entrada).",
    },
    {
        name: "Ajustar el tipo de inter√©s",
        text: "Introduce el TIN (Tipo de Inter√©s Nominal) ofrecido por la entidad. Puedes comparar entre tipo fijo o variable.",
    },
    {
        name: "Elegir el plazo de amortizaci√≥n",
        text: "Define en cu√°ntos a√±os quieres devolver el pr√©stamo. A m√°s a√±os, cuota m√°s baja pero pagar√°s m√°s intereses totales.",
    },
    {
        name: "Analizar el cuadro de amortizaci√≥n",
        text: "Revisa mes a mes c√≥mo evoluciona tu deuda y qu√© parte de tu cuota se destina a intereses vs capital.",
    },
];
---

<LayoutUtility
    title="Simulador de Hipoteca y Tabla de Amortizaci√≥n Francesa"
    description="Calcula tu cuota hipotecaria mensual, descubre cu√°nto pagar√°s en intereses y visualiza tu cuadro de amortizaci√≥n completo al instante."
    image="/images/utilities/hipoteca.webp"
    gradientFrom="from-blue-50"
    faqItems={faqItems}
    howToSteps={howToSteps}
>
    <div slot="header">
        <UtilityHeader
            titleHighlight="Bajo Control"
            titleBase="Tu Hipoteca"
            description="Antes de firmar nada con el banco, haz los n√∫meros. Entiende exactamente cu√°nto vas a pagar mes a mes y descubre el coste real de los intereses en el sistema de pago espa√±ol (Franc√©s)."
            gradientFrom="from-indigo-500"
            gradientTo="to-violet-600"
            reverse={true}
        />
    </div>

    <LoanSimulator />

    <div slot="seo">
        <div class="grid md:grid-cols-2 gap-8 not-prose">
            <article
                class="bg-white dark:bg-slate-900/50 p-8 rounded-3xl border border-slate-200 dark:border-slate-800 shadow-sm"
            >
                <h3 class="text-2xl font-bold text-slate-900 dark:text-white mb-4">
                    El "Trampa" del Sistema Franc√©s
                </h3>
                <p class="text-slate-600 dark:text-slate-400 leading-relaxed mb-6">
                    En Espa√±a, la mayor√≠a de hipotecas usan el <strong
                        >Sistema de Amortizaci√≥n Franc√©s</strong
                    >. Su caracter√≠stica principal es que la cuota mensual siempre es la misma (si
                    el inter√©s es fijo), pero la composici√≥n cambia.
                </p>
                <div
                    class="bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-2xl text-sm border-l-4 border-indigo-500 mb-6"
                >
                    <p class="m-0 text-slate-700 dark:text-slate-300 space-y-2">
                        <span class="block"
                            >üìâ <strong>Al principio:</strong> Pagas casi todo INTERESES y devuelves
                            muy poco dinero prestado.</span
                        >
                        <span class="block"
                            >üìà <strong>Al final:</strong> Pagas casi todo CAPITAL y muy pocos intereses.</span
                        >
                    </p>
                </div>
                <p class="text-slate-600 dark:text-slate-400 leading-relaxed">
                    Por eso, si vas a amortizar hipoteca (adelantar dinero), es much√≠simo m√°s
                    rentable hacerlo en los primeros a√±os del pr√©stamo.
                </p>
            </article>

            <div class="space-y-6">
                <div
                    class="bg-slate-50 dark:bg-slate-800 p-8 rounded-3xl border border-slate-200 dark:border-slate-700"
                >
                    <h3
                        class="flex items-center gap-2 text-xl font-bold text-slate-900 dark:text-white mb-4"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="w-6 h-6 text-indigo-500"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            ><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg
                        >
                        Contexto 2026: Tipos de Inter√©s
                    </h3>
                    <p class="text-slate-600 dark:text-slate-400 mb-4">
                        Con un Euribor fluctuante, elegir entre <strong>Tipo Fijo</strong> o <strong
                            >Tipo Variable</strong
                        > es clave.
                    </p>
                    <ul class="space-y-3 mb-0 text-sm text-slate-500 dark:text-slate-400">
                        <li class="flex items-start gap-2">
                            <span class="text-green-500 mt-1">‚úî</span>
                            <span
                                ><strong>Tipo Fijo:</strong> Pagas un poco m√°s ahora, pero duermes tranquilo
                                sabiendo que tu cuota nunca subir√° en 30 a√±os.</span
                            >
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-amber-500 mt-1">‚ö†</span>
                            <span
                                ><strong>Tipo Variable:</strong> Puede ser m√°s barato hoy, pero si el
                                Euribor sube al 4% o 5%, tu cuota podr√≠a dispararse y asfixiar tu econom√≠a.</span
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</LayoutUtility>
