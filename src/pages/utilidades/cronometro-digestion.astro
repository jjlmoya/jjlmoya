---
import LayoutUtility from "../../layouts/LayoutUtility.astro";
import UtilityHeader from "../../components/utilidades/UtilityHeader.astro";
import DigestionStopwatch from "../../components/utilidades/digestion-stopwatch/DigestionStopwatch.astro";
import DigestionStopwatchSEO from "../../components/utilidades/digestion-stopwatch/DigestionStopwatchSEO.astro";
import Bibliography from "../../components/utilidades/Bibliography.astro";

const bibliography = [
    {
        title: "Motilidad del tracto intestinal",
        author: "Universidad de Cantabria (OCW)",
        url: "https://ocw.unican.es/mod/page/view.php?id=534",
        source: "OpenCourseWare",
        focus: "Describe la segmentación y tiempos de contracción en intestino delgado (5s) y grueso (3-4 por minuto).",
    },
    {
        title: "Técnicas para el estudio de la actividad motora digestiva",
        author: "ASENEM (Asociación Española de Neurogastroenterología y Motilidad)",
        url: "https://www.asenem.org/resources/publications/view/tecnicas-para-el-estudio-de-la-actividad-motora-digestiva-protocolos-metodologicos/",
        source: "ASENEM",
        focus: "Protocolos científicos sobre el tiempo medio de vaciado gástrico (T 1/2) y gammagrafía de tránsito.",
    },
    {
        title: "Tiempo del tránsito intestinal",
        author: "MedlinePlus / NIH",
        url: "https://medlineplus.gov/spanish/ency/article/003887.htm",
        source: "Biblioteca Nacional de Medicina de EE. UU.",
        focus: "Datos sobre el promedio de tránsito total (30-40 horas en colon) y límites de normalidad científica.",
    },
];

const faqItems = [
    {
        question: "¿Cuánto tarda realmente en digerirse una comida completa?",
        answer: "El tránsito total suele durar entre 24 y 72 horas. Sin embargo, el vaciado gástrico (estómago) ocurre en las primeras 2 a 5 horas, seguido de unas 2 a 6 horas en el intestino delgado.",
    },
    {
        question: "¿Qué alimentos se digieren más rápido?",
        answer: "Los carbohidratos simples (frutas, azúcares) y líquidos son los más rápidos. Las proteínas tardan más, y las grasas son las que más tiempo permanecen en el estómago, ralentizando todo el proceso.",
    },
    {
        question: "¿Por qué es importante el tiempo de tránsito?",
        answer: "Un tránsito demasiado rápido (diarrea) impide la absorción correcta de nutrientes. Un tránsito muy lento (estreñimiento) puede provocar la reabsorción de toxinas y malestar general.",
    },
    {
        question: "¿Cómo afecta el ejercicio a la digestión?",
        answer: "El ejercicio ligero (caminar) ayuda a la motilidad intestinal. Sin embargo, el ejercicio intenso justo después de comer puede ralentizar la digestión al desviar el flujo sanguíneo de los órganos digestivos hacia los músculos.",
    },
];

const howToSteps = [
    {
        name: "Seleccionar composición",
        text: "Indica si tu comida ha sido ligera, normal o pesada, y el predominio de macronutrientes (grasas, proteínas o carbohidratos).",
    },
    {
        name: "Iniciar el temporizador",
        text: "Pulsa el botón de inicio justo después de terminar de comer para empezar el rastreo virtual.",
    },
    {
        name: "Seguir las etapas",
        text: "Observa la barra de progreso que indica en qué fase del tracto digestivo se encuentra teóricamente el bolo alimenticio.",
    },
    {
        name: "Recibir notificaciones",
        text: "La herramienta te avisará cuando se estime que la comida ha pasado del estómago al intestino delgado.",
    },
];
---

<LayoutUtility
    title="Cronómetro de Digestión - Seguimiento Fisiológico"
    description="Calcula cuánto tarda en digerirse tu comida. Rastrea el progreso por el estómago, intestino delgado e intestino grueso basándose en macronutrientes."
    image="/images/utilities/cronometro-digestion.png"
    gradientFrom="from-zinc-950"
    faqItems={faqItems}
    howToSteps={howToSteps}
>
    <div slot="header">
        <UtilityHeader
            titleHighlight="Cronómetro"
            titleBase="de Digestión"
            description="Simulador fisiológico del tránsito gastrointestinal basado en la ingesta y el tipo de alimentos."
            gradientFrom="from-emerald-500"
            gradientTo="to-cyan-600"
        />
    </div>

    <DigestionStopwatch />

    <div slot="seo">
        <DigestionStopwatchSEO />
    </div>

    <div slot="bibliography">
        <Bibliography
            links={bibliography.map((b) => ({
                name: `${b.title} - ${b.author} (${b.source})`,
                url: b.url,
            }))}
        />
    </div>
</LayoutUtility>
