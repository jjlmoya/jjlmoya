---
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import GameBobLogo from "../components/GameBobLogo.astro";
---

<Layout
    title="404 - Perdido en el Vacío"
    description="Parece que te has perdido en la oscuridad."
    image="/images/404.webp"
>
    <main
        class="relative min-h-screen w-full overflow-hidden bg-slate-950 flex flex-col items-center justify-center text-center"
    >
        <div class="absolute inset-0 z-0 opacity-30 pointer-events-none">
            <div class="absolute top-[10%] left-[10%] w-1 h-1 bg-white rounded-full animate-pulse">
            </div>
            <div
                class="absolute top-[20%] right-[20%] w-2 h-2 bg-white rounded-full animate-pulse delay-75"
            >
            </div>
            <div
                class="absolute bottom-[15%] left-[30%] w-1 h-1 bg-white rounded-full animate-pulse delay-150"
            >
            </div>
            <div
                class="absolute top-[40%] left-[50%] w-1 h-1 bg-white rounded-full animate-pulse delay-300"
            >
            </div>
            <div
                class="absolute bottom-[40%] right-[10%] w-2 h-2 bg-white rounded-full animate-pulse delay-500"
            >
            </div>
            <div
                class="absolute top-[5%] right-[40%] w-1 h-1 bg-white rounded-full animate-pulse delay-200"
            >
            </div>
        </div>

        <div class="relative z-10 flex flex-col items-center gap-8 p-4">
            <div class="relative">
                <h1
                    class="text-[8rem] md:text-[12rem] font-black text-slate-900 dark:text-slate-800 leading-none select-none tracking-tighter"
                >
                    404
                </h1>
                <div class="absolute inset-0 flex items-center justify-center">
                    <div class="w-48 md:w-64 hover:scale-110 transition-transform duration-300">
                        <GameBobLogo />
                    </div>
                </div>
            </div>

            <div class="space-y-4 max-w-lg relative z-20">
                <h2 class="text-3xl md:text-4xl font-bold text-white drop-shadow-lg">
                    ¡Ups! Está muy oscuro aquí...
                </h2>
                <p class="text-slate-300 text-lg md:text-xl leading-relaxed drop-shadow-md">
                    Parece que esta página ha sido absorbida por un agujero negro digital. Usa tu
                    cursor para iluminar el camino de vuelta.
                </p>
            </div>

            <a
                href="/"
                class="group relative inline-flex items-center gap-3 px-8 py-4 bg-white text-slate-900 rounded-full font-bold text-lg hover:scale-105 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,255,255,0.6)] z-20"
            >
                <Icon
                    name="mdi:flashlight"
                    class="w-6 h-6 group-hover:rotate-12 transition-transform"
                />
                <span>Encender la luz</span>
            </a>
        </div>

        <div
            id="flashlight"
            class="fixed inset-0 z-50 pointer-events-none bg-black transition-opacity duration-1000"
        >
        </div>
    </main>
</Layout>

<script>
    const flashlight = document.getElementById("flashlight");

    if (flashlight) {
        const updateFlashlight = (x: number, y: number) => {
            flashlight.style.background = `radial-gradient(circle 300px at ${x}px ${y}px, transparent 0%, rgba(0,0,0,0.95) 100%)`;
        };

        // Initial position center
        updateFlashlight(window.innerWidth / 2, window.innerHeight / 2);

        document.addEventListener("mousemove", (e) => {
            updateFlashlight(e.clientX, e.clientY);
        });

        document.addEventListener("touchmove", (e) => {
            const touch = e.touches[0];
            updateFlashlight(touch.clientX, touch.clientY);
        });
    }
</script>
